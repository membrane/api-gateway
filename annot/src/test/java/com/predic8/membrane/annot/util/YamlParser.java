package com.predic8.membrane.annot.util;

import com.predic8.membrane.annot.K8sHelperGenerator;
import com.predic8.membrane.annot.yaml.GenericYamlParser;
import org.yaml.snakeyaml.Yaml;

import java.io.InputStreamReader;
import java.lang.reflect.InvocationTargetException;

import static java.util.Objects.requireNonNull;

public class YamlParser {
    public YamlParser(String resourceName) throws ClassNotFoundException, NoSuchMethodException, InvocationTargetException, InstantiationException, IllegalAccessException {
        Object o = getClass().getClassLoader().loadClass("com.predic8.membrane.demo.config.spring.K8sHelperGeneratorAutoGenerated").getConstructor().newInstance();

        Object o1 = GenericYamlParser.parseMembraneObject(
                new Yaml().parse(new InputStreamReader(requireNonNull(getClass().getResourceAsStream(resourceName)))).iterator(),
                (K8sHelperGenerator) o,
                null);

    }

    public Object getResult() {
        return true;
    }

}
