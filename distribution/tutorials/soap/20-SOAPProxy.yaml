# yaml-language-server: $schema=https://www.membrane-api.io/v7.1.0.json
#
# Tutorial: SOAP Proxy
#
# A SOAP proxy configured from a WSDL document.
#
# When a WSDL is exposed through an API Gateway, it must be rewritten so that:
# - The service address points to the gateway, not the backend.
# - References to imported XSD schema files are adjusted accordingly.
# The serviceProxy rewrites the WSDL automatically on the fly.
#
# 1.) Start Membrane
#    Linux/Mac:
#      ./membrane.sh -c 20-SOAPProxy.yaml
#    Windows:
#      membrane.cmd -c 20-SOAPProxy.yaml
#
# 2.) WSDL
#     http://localhost:2000/city-service?wsdl
#     Take a look at the address/@location attribute at the end of the WSDL
#
# 3.) Invoke
#    curl -d @city.soap.xml -H "Content-Type: text/xml" http://localhost:2000/city-service

soapProxy:
  port: 2000
  wsdl: https://www.predic8.de/city-service?wsdl
