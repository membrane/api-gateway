# yaml-language-server: $schema=https://www.membrane-api.io/v7.1.0.json
#
# Tutorial: Choose
#
# Try:
#   1.) curl -v localhost:2000
#   2.) curl -v -H "X-Foo: 1" localhost:2000
#   3.) curl -v -H "X-Bar: 1" localhost:2000
#
api:
  port: 2000
  flow:
    - choose:
        - case:
            test: headers['X-Foo'] != null
            flow:
              - return:
                  status: 200
        - case:
            test: headers['X-Bar'] != null
            flow:
              - return:
                  status: 300
        - otherwise:
            - return:
                status: 400
