# yaml-language-server: $schema=https://www.membrane-api.io/v7.1.0.json
#
# Tutorial: Redirects
#
# 1.) Browser redirect:
#     Open in the browser
#       http://localhost:2000/fruits/7
#
#     You should be redirected to:
#       https://api.predic8.de/shop/v2/products/7
#
# 2.) Examine the response:
#     curl -v localhost:2000/fruits/7
#
#     Check the HTTP 'Location' header.

api:
  port: 2000
  flow:
    - request:
      - log:
          message: Requested ${path}
      - rewriter:
          - from: "/fruits/(.*)"
            to: "https://api.predic8.de/shop/v2/products/$1"
            do: redirect_permanent
