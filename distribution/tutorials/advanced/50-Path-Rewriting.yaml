# yaml-language-server: $schema=../../core/target/classes/com/predic8/membrane/core/config/json/membrane.schema.json
#
# Membrane Tutorial: Path Rewriting
#
# curl localhost:2000/fruits/7
#

spec:
  port: 2000
  flow:
    - request:
      - log:
          message: Requested ${path}
      - rewriter:
          - map:
              from: "/fruits/(.*)"
              to: "/shop/v2/products/$1"
      - log:
          message: Rewritten ${path}
  target:
    url: https://api.predic8.de
