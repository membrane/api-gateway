# yaml-language-server: $schema=https://www.membrane-api.io/v7.1.0.json
#
# Tutorial: Path Rewriting
#
# Try:
#   curl http://localhost:2000/fruits/12
#
# Observe the log output.

api:
  port: 2000
  flow:
    - request:
      - log:
          message: Requested ${path}
      - rewriter:
        # Put values in quotes when using special characters
        - from: "/fruits/(.*)"
          to: "/shop/v2/products/$1"
      - log:
          message: Rewritten ${path}
  target:
    url: https://api.predic8.de
