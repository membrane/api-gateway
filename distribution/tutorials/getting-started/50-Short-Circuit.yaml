# yaml-language-server: $schema=../../core/target/classes/com/predic8/membrane/core/config/json/membrane.schema.json
#
# Membrane Tutorial: Short Circuit
#
# Normally an API forwards requests to a backend. Sometimes, however,
# you may want to short-circuit and return a response immediately
# without calling the backend. This is useful for testing, debugging or
# security.
#
# 1.) Start this configuration.
#
# 2.) Call the API:
#
#       curl -v http://localhost:2000
#
#     Observe the status code.
#
# 3) Send a request with a body:
#
#       curl -d "Bonjour" http://localhost:2000
#
#     Observe the response body.

spec:
  port: 2000
  flow:
    # Reverses the flow.
    # If there is no response yet it will copy the body from the request.
    - return:
        statusCode: 200