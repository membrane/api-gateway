# yaml-language-server: $schema=../../../core/target/classes/com/predic8/membrane/core/config/json/membrane.schema.json
#
# Membrane Tutorial: Basic Path Routing
#
# Membrane can host lots of different APIs on the same TCP port. Incoming requests are matched the declared APIs from top to bottom. The first API that matches the request wins.
#
# curl localhost:2000/shop/v2/products
# curl localhost:2000/fact
# curl localhost:2000/get
#
#

spec:
  port: 2000
  path:
    uri: /shop # Only match requests that have a path starting with /shop
  target:
    url: https://api.predic8.de

--- # Use a line beginning with --- to separate multiple API definitions.

spec:
  port: 2000
  path:
    uri: /fact # Only match starting with /fact
  target:
    url: https://catfact.ninja/fact

---
# No path matches all requests

spec:
  port: 2000
  target:
    url: https://httpbin.org