# yaml-language-server: $schema=../../core/target/classes/com/predic8/membrane/core/config/json/membrane.schema.json
#
# Membrane Tutorial:
#
# Usually an API routes requests to a backend service. However, sometimes you want to short-circuit the request and return a response without calling the backend.
# This can be useful for testing, debugging or for security.
#
# 1.) Start Membrane:
#     membrane.sh -c 20-Short-Circuit.yaml
# 2.) Call the API:
#     curl -v localhost:2000
#     Take a look at the returned status code
#
spec:
  port: 2000
  flow:
    - response:
        - static: # Set a static response body
            src: Under maintenance!
    - return:
        statusCode: 503