
# yaml-language-server: $schema=https://www.membrane-api.io/v7.0.0.json
#
# Membrane Tutorial: Basic Path Routing
#
# Membrane can host multiple APIs on the same TCP port. Incoming requests are
# matched against the declared APIs from top to bottom. The first API whose
# path matches the request is used.
#
# 1.) Start this configuration.
#
# 2.) Call the APIs:
#
#       curl localhost:2000/shop/v2/products
#       curl localhost:2000/fact
#       curl localhost:2000/get

api:
  port: 2000
  path:
    uri: /shop # Matches requests starting with /shop
  target:
    url: https://api.predic8.de

---
# A line beginning with --- separates multiple API definitions

api:
  port: 2000
  path:
    uri: /fact
  target:
    # API can fail sometimes with 503
    url: https://catfact.ninja/fact

---
# No path: matches all remaining requests

api:
  port: 2000
  target:
    # Can take a couple of seconds to respond
    url: https://httpbin.org