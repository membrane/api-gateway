<spring:beans xmlns="http://membrane-soa.org/proxies/1/"
              xmlns:spring="http://www.springframework.org/schema/beans"
              xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
              xsi:schemaLocation="http://www.springframework.org/schema/beans
	                    http://www.springframework.org/schema/beans/spring-beans-4.2.xsd
	                    http://membrane-soa.org/proxies/1/ http://membrane-soa.org/schemas/proxies-1.xsd">

    <chain id="log">
        <request>
            <log message="Path: ${path}" />
        </request>
    </chain>

    <chain id="cors">
        <response>
            <setHeader name="Access-Control-Allow-Origin" value="*" />
            <setHeader name="Access-Control-Allow-Methods" value="POST, PUT" />
        </response>
    </chain>

    <router>

        <api port="2000">
            <path>/foo</path>
            <interceptor refid="log" />
            <return statusCode="200"/>
        </api>

        <api port="2000">
            <path>/bar</path>
            <interceptor refid="log" />
            <interceptor refid="cors" />
            <return statusCode="200" />
        </api>

    </router>


</spring:beans>