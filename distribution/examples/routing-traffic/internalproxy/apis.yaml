
# yaml-language-server: $schema=https://www.membrane-api.io/v7.1.0.json
api:
  port: 2000
  flow:
    - request:
        - if:
            test: //order[@express='yes']
            language: xpath
            flow:
              # Overwrite the target URL
              - destination:
                  url: internal://express
  target:
    url: internal://normal

---
# An internal API is like a function or subroutine for an API.
# For an internal API a port is not needed
internal:
  name: express
  flow:
    - static:
        src: Express processing!
    - return:
        status: 200

---
internal:
  name: normal
  flow:
    - static:
        src: Normal processing!
    - return:
        status: 200
