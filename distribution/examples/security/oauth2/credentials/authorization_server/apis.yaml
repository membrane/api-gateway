
# yaml-language-server: $schema=https://www.membrane-api.io/v7.0.0.json
api:
  name: Authorization Server
  port: 8000
  flow:
    - oauth2authserver:
        issuer: http://localhost:8000
        # UserDataProvider is exchangeable, e.g. for a database table
        staticUserDataProvider:
          users:
            - user:
                username: john
                password: password
                email: john@predic8.de
        staticClientList:
          clients:
            - client:
                clientId: abc
                clientSecret: def
                callbackUrl: http://localhost:2000/oauth2callback
        # Generates tokens in the given format
        bearerToken: {}
        # Scopes are defined from the claims exposed above
        claims:
          value: aud email iss sub username
          scopes:
            - scope:
                id: username
                claims: username
            - scope:
                id: profile
                claims: username email

---

api:
  port: 9000
  flow:
    - adminConsole: {}