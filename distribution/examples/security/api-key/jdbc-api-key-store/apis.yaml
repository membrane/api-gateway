# yaml-language-server: $schema=https://www.membrane-api.io/v7.0.6.json

components:
  dataSource:
    bean:
      class: org.apache.commons.dbcp2.BasicDataSource
      properties:
        - name: driverClassName
          value: org.postgresql.Driver
        - name: url
          value: jdbc:postgresql://localhost:5432/postgres
        - name: username
          value: postgres
        - name: password
          value: secret

---
global:
  - apiKey:
      stores:
        - databaseApiKeyStore:
            datasource: '#/components/dataSource'
            keyTable:
              name: key
            scopeTable:
              name: scope
      extractors:
        - header: {}

---
api:
  port: 2000
  target:
    url: https://api.predic8.de
