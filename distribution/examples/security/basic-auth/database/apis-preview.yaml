# yaml-language-server: $schema=https://www.membrane-api.io/v7.0.5.json

components:
  dataSource:
    bean:
      class: org.apache.commons.dbcp2.BasicDataSource
      properties:
        - property:
            name: driverClassName
            value: org.h2.Driver
        - property:
            name: url
            value: jdbc:h2:tcp://localhost/mem:userdata
        - property:
            name: username
            value: sa
        - property:
            name: password
            value:

---

api:
  port: 2000
  flow:
    - basicAuthentication:
        jdbcUserDataProvider:
          datasource: '#/components/dataSource'
          tableName: accounts
          userColumnName: nickname
          passwordColumnName: password
  target:
    url: https://api.predic8.de